import { TestStructuralElements } from "../all-data-tests.js";
import { RegisterTest, TestTag } from "../framework.js";

export const data = (
  registerTest: RegisterTest,
  { describe }: TestStructuralElements
) => {
  describe("Other Edge cases", () => {
    registerTest(
      `3 fox locations empty`,
      `
      ┌─────┬─────┬─────┬─────┬─────┬─────┐
      │     │     │     │     │ B   │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      └─────┴─────┴─────┴─────┴─────┴─────┘
    `,
      `
      ID C
      ## 1
    ┌─────┬─────┬─────┬─────┬─────┬─────┐
    │     │>E4  │     │     │ B   │>E5  │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │ B   │     │     │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │>P3  │  p  │>E6  │ B   │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │  p  │  p  │     │     │>S1  │  s  │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │ B   │     │     │  s  │  s  │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │?f  1│     │     │ B   │  s  │>S2  │
    └─────┴─────┴─────┴─────┴─────┴─────┘
  `
    );
    registerTest(
      `All fox locations empty`,
      `
      ┌─────┬─────┬─────┬─────┬─────┬─────┐
      │     │     │     │     │ B   │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      └─────┴─────┴─────┴─────┴─────┴─────┘
    `,
      `
    ID C
    ## 1
    ┌─────┬─────┬─────┬─────┬─────┬─────┐
    │     │>E4  │     │     │ B   │>E5  │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │ B   │     │     │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │>P3  │  p  │>E6  │ B   │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │  p  │  p  │     │     │>S1  │  s  │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │ B   │     │     │  s  │  s  │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │>E7  │     │     │ B   │  s  │>S2  │
    └─────┴─────┴─────┴─────┴─────┴─────┘
  `
    );
    registerTest(
      `Gift Box / Coffer too large`,
      `
      ┌─────┬─────┬─────┬─────┬─────┬─────┐
      │     │     │     │     │ B   │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │ P   │     │     │ B   │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      └─────┴─────┴─────┴─────┴─────┴─────┘
    `,
      `
      ID C
      ## 15
    ┌─────┬─────┬─────┬─────┬─────┬─────┐
    │     │     │     │     │ B   │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │ B   │     │     │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │ P   │     │     │ B   │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │     │>P ! │     │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │ B   │     │     │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │     │     │ B   │     │     │
    └─────┴─────┴─────┴─────┴─────┴─────┘
    [Error] Based on the entered tiles, the Gift Box / Coffer covers a minimum of a 3x2 area, but should only be 2x2. Please ensure the tiles entered onto the board are correct. # Issues: 12, 20
  `
    );
    registerTest(
      `Gift Box / Coffer too large (opposite corners)`,
      `
      ┌─────┬─────┬─────┬─────┬─────┬─────┐
      │     │     │     │     │ B   │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │ P   │ B   │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      └─────┴─────┴─────┴─────┴─────┴─────┘
    `,
      `
      ID C
      ## 15
    ┌─────┬─────┬─────┬─────┬─────┬─────┐
    │     │     │     │     │ B   │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │ B   │     │     │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │     │ P   │ B   │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │>P ! │     │     │     │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │ B   │     │     │     │     │
    ├─────┼─────┼─────┼─────┼─────┼─────┤
    │     │     │     │ B   │     │     │
    └─────┴─────┴─────┴─────┴─────┴─────┘
    [Error] Based on the entered tiles, the Gift Box / Coffer covers a minimum of a 3x2 area, but should only be 2x2. Please ensure the tiles entered onto the board are correct. # Issues: 14, 18
  `
    );
    registerTest(
      `Sword too large`,
      `
      ┌─────┬─────┬─────┬─────┬─────┬─────┐
      │     │     │     │     │ B   │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │ S   │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      └─────┴─────┴─────┴─────┴─────┴─────┘
    `,
      `
    ID C
    ## 15
  ┌─────┬─────┬─────┬─────┬─────┬─────┐
  │     │     │     │     │ B   │     │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │ B   │     │     │     │ S   │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │     │     │ B   │     │     │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │     │     │     │     │     │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │ B   │     │     │>S1! │     │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │     │     │ B   │     │     │
  └─────┴─────┴─────┴─────┴─────┴─────┘
  [Error] Based on the entered tiles, the Swords covers a minimum of a 2x4 area, but should only be 2x3 or 3x2. Please ensure the tiles entered onto the board are correct. # Issues: 11, 28
`
    );
    registerTest(
      {
        title: `Mixed invalid`,
        // This is really a bug, where Empty is always shown for suggestions even if (based on the other patterns) it is not possible for the tile to be empty.
        // Fixing this is a lot of work though, and it's a relatively minor display issue, so I'm leaving it for now.
        // Follow-up: Record Empty as a suggestion and only include Empty when it is valid in the primary options.
        tags: [TestTag.InvalidUIState],
      },
      `
      ┌─────┬─────┬─────┬─────┬─────┬─────┐
      │     │     │     │     │ B   │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │ B   │     │     │     │     │
      ├─────┼─────┼─────┼─────┼─────┼─────┤
      │     │     │     │ B   │     │     │
      └─────┴─────┴─────┴─────┴─────┴─────┘
    `,
      `
    ID C
    ## 0
  ┌─────┬─────┬─────┬─────┬─────┬─────┐
  │     │     │     │     │ B   │     │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │ B   │     │     │     │     │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │     │>P1  │ B   │     │     │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │     │     │     │>E2! │     │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │ B   │     │     │     │     │
  ├─────┼─────┼─────┼─────┼─────┼─────┤
  │     │     │     │ B   │     │     │
  └─────┴─────┴─────┴─────┴─────┴─────┘
  [Error] The tiles entered do not match any patterns. Please ensure the tiles entered onto the board are correct. # Issues: 14, 22
`
    );
  });
};
